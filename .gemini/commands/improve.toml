description = "Propose des améliorations techniques sur le projet actif"
prompt = """
Analyse le projet actif et propose des améliorations.

Lis dans cet ordre :
1. @{memory.md} (sections Focus Actuel, Architecture, Fichiers clés, Bugs connus)
2. !{type "$env:FORGE_DIR/$env:PROJECT_NAME/bugs.md"} (bugs ouverts du vault)
3. !{type "$env:FORGE_DIR/$env:PROJECT_NAME/backlog.md"} (backlog actif du vault)
4. !{type "$env:FORGE_DIR/$env:PROJECT_NAME/architecture.md"}
5. Liste les fichiers du projet (cherche les fichiers source : .js, .ts, .py, .sh, etc.)

⚠️ Avant de proposer quoi que ce soit : croise avec les bugs connus de memory.md et bugs.md.
Ne propose pas comme amélioration ce qui est déjà un bug ouvert documenté.

Propose des améliorations structurées :

## 1. Code à simplifier
- Fonctions trop longues (>50 lignes)
- Code dupliqué
- Variables mal nommées

## 2. Architecture à améliorer
- Couplage fort entre fichiers
- Responsabilités multiples dans un même fichier

## 3. Performance
- Requêtes N+1, loops inutiles
- Assets non optimisés

## 4. Maintenabilité
- Tests manquants
- Documentation absente
- Complexité cyclomatique élevée

## 5. Bonnes pratiques
- Patterns de code cohérents
- Gestion d'erreurs
- Conventions de nommage

Trie les propositions par impact (high/medium/low).

⚠️ Ne touche à aucun fichier — propose seulement.
"""
